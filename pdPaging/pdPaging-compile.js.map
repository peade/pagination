{"version":3,"sources":["pdPaging.js"],"names":[],"mappings":"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","file":"pdPaging-compile.js","sourcesContent":["(function (window, document) {\r\n    let paging = function (option) {\r\n        this.options = {\r\n            pageSize: 10,\r\n            pageNo: 1,\r\n            totalSize: 0,\r\n            prevText: '&laquo;',\r\n            nextText: '&raquo;',\r\n            container: '#pagination',\r\n            callback: function (num) {\r\n                console.log(num+'callback')\r\n                return false\r\n            }\r\n        }\r\n\r\n        for (let o in option) {\r\n            this.options[o] = option[o]\r\n        }\r\n        console.log(this.options)\r\n        this.render()\r\n    };\r\n\r\n    paging.prototype = {\r\n        render: function () {\r\n            let _this = this\r\n            let pageAmount = Math.ceil(_this.options.totalSize / _this.options.pageSize)\r\n            if(_this.options.pageNo>pageAmount){\r\n                return\r\n            }\r\n\r\n            let containerEle = document.querySelector(_this.options.container)\r\n            let ulEle = document.createElement('ul')\r\n            ulEle.classList.add('pagination')\r\n\r\n\r\n            let goEle = stringToDom('<li>去<input type=\"text\" id=\"go-page-num\">页<button>跳转</button></li>')\r\n\r\n\r\n            let currentNo =parseInt(_this.options.pageNo)\r\n            let startNo = currentNo - 2\r\n            let endNo = currentNo + 2\r\n\r\n            if (pageAmount <= 5) {\r\n                startNo = 1\r\n                endNo = pageAmount\r\n            }\r\n\r\n\r\n            if (pageAmount <= 5) {\r\n                startNo = 1\r\n                endNo = pageAmount\r\n            } else {\r\n                if (startNo < 1) {\r\n                    startNo = 1\r\n                    endNo = 5\r\n                }\r\n                if (endNo > pageAmount) {\r\n                    startNo = pageAmount - 4\r\n                    endNo = pageAmount\r\n                }\r\n\r\n                if(startNo===2){\r\n                    startNo=1\r\n                }\r\n                if(endNo===(pageAmount-1)){\r\n                    endNo=pageAmount\r\n                }\r\n            }\r\n            //ulEle.appendChild(prevEle)\r\n            addPrev()\r\n            if(startNo===1){\r\n                addPageNum(startNo, endNo, currentNo)\r\n            }else{\r\n                let firstEle=stringToDom('<li ><span class=\"page-span\" data-pn=\"1\">1</span></li>')\r\n                ulEle.appendChild(firstEle)\r\n                addDot()\r\n                addPageNum(startNo, endNo, currentNo)\r\n            }\r\n            if(endNo<pageAmount){\r\n                addDot()\r\n                let lastEle=stringToDom('<li ><span class=\"page-span\" data-pn=\"' + pageAmount + '\">' + pageAmount + '</span></li>')\r\n                ulEle.appendChild(lastEle)\r\n            }\r\n\r\n\r\n            //ulEle.appendChild(nextEle)\r\n            addNext()\r\n            ulEle.appendChild(goEle)\r\n            containerEle.innerHTML=''\r\n            containerEle.appendChild(ulEle)\r\n            addTotalNum()\r\n            function addPageNum(start, end, current) {\r\n                console.log(start, end, current)\r\n                for (let i = start; i <= end; i++) {\r\n                    let pageEle;\r\n                    if (i ===parseInt(current)) {\r\n                        console.log(current)\r\n                        pageEle = stringToDom('<li><span  class=\"page-span active-page\" data-pn=\"' + i + '\">' + i + '</span></li>')\r\n                    } else {\r\n                        pageEle = stringToDom('<li><span  class=\"page-span\" data-pn=\"' + i + '\">' + i + '</span></li>')\r\n                    }\r\n                    ulEle.appendChild(pageEle)\r\n                }\r\n\r\n            }\r\n\r\n            function addPrev() {\r\n                let prevEle = stringToDom('<li><span class=\"prev-span\">' + _this.options.prevText + '</span></li>')\r\n                ulEle.appendChild(prevEle)\r\n            }\r\n\r\n            function addNext() {\r\n                let nextEle = stringToDom('<li><span class=\"next-span\">' + _this.options.nextText + '</span></li>')\r\n                ulEle.appendChild(nextEle)\r\n            }\r\n            function addDot() {\r\n                let dotEle = stringToDom('<li><span>...</span></li>')\r\n                ulEle.appendChild(dotEle)\r\n            }\r\n            function addTotalNum() {\r\n                let totalEle = stringToDom('<li>共' + _this.options.totalSize + '条</li>')\r\n                ulEle.appendChild(totalEle)\r\n            }\r\n\r\n            function pageEvent(e) {\r\n                let target = e.target || e.srcElement\r\n                let matchesSelector = target.matches || target.webkitMatchesSelector || target.mozMatchesSelector || target.msMatchesSelector;\r\n                if(matchesSelector.call(target,'.page-span')){\r\n                    let num=target.getAttribute('data-pn')\r\n                    _this.options.callback(num)\r\n                }\r\n                //上一页\r\n                if(matchesSelector.call(target,'.prev-span')){\r\n                    console.log(_this.options.pageNo)\r\n                    if(_this.options.pageNo<=1){\r\n                        _this.options.callback(1)\r\n                    }else{\r\n                        _this.options.callback(_this.options.pageNo-1)\r\n                    }\r\n                }\r\n                //下一页\r\n                if(matchesSelector.call(target,'.next-span')){\r\n                    console.log(_this.options.pageNo)\r\n                    if(_this.options.pageNo>=pageAmount){\r\n                        _this.options.callback(pageAmount)\r\n                    }else{\r\n                        _this.options.callback(_this.options.pageNo+1)\r\n                    }\r\n                }\r\n\r\n                if(target.nodeName.toLowerCase()==='button'){\r\n                    let inputPageNo=document.getElementById('go-page-num').value;\r\n                    let numReg=/^\\d+$/\r\n                    if(numReg.test(inputPageNo)){\r\n                        _this.options.callback(inputPageNo)\r\n                    }else{\r\n                        return false\r\n                    }\r\n                }\r\n\r\n                e.preventDefault()\r\n            }\r\n\r\n            //事件绑定\r\n            ulEle.addEventListener(\"click\",pageEvent,false)\r\n\r\n        }\r\n    };\r\n    let stringToDom = function (str) {\r\n        let objEle = document.createElement('div')\r\n        objEle.innerHTML = str\r\n        return objEle.firstChild\r\n        // return objEle.childNodes\r\n    }\r\n\r\n    //兼容模块\r\n    if(typeof module !=='undefined' && typeof exports ==='object'){\r\n        module.exports=paging;\r\n    }else if(typeof define ==='function' && (define.amd || define.cmd)){\r\n        define(\"pdPaging\",function(){\r\n            return paging;\r\n        })\r\n    }else{\r\n        window.pdPaging=paging;\r\n    }\r\n\r\n\r\n}(window, document));\r\n"]}